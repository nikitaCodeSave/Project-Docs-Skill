---
name: project-docs
description: Создание технической документации для нового проекта. Используй когда нужно создать PRD, SPEC, CLAUDE.md, ADR или подготовить документацию перед стартом разработки.
---

# Project Documentation Skill

Стандарт создания технической документации для агентской разработки с Claude Code.

## Назначение

Этот skill используется на **Шаге 0** — перед началом разработки, когда нужно:
- Трансформировать идею проекта в структурированную документацию
- Создать технические файлы-ориентиры для Claude Code
- Зафиксировать требования, ограничения и решения ДО написания кода

## Когда использовать

- Старт нового проекта
- Формализация существующей идеи
- Подготовка спецификации для передачи Claude Code

## Философия

### Документация как инструкция для AI

Исследования показывают: структурированные спецификации повышают качество генерируемого кода на 71%, а явные требования сокращают циклы доработки на 68%.

### Ключевые принципы

| Принцип | Описание |
|---------|----------|
| **Разделение абстракций** | PRD (зачем) → SPEC (что) → ADR (почему так) → Код (как) |
| **Модульность** | Маленькие файлы экономят токены контекстного окна |
| **Отложенные решения** | Детали реализации фиксируются в ADR, не в SPEC |
| **Проверяемость** | Каждое требование имеет acceptance criteria |
| **Эксплицитность** | AI нужны явные границы, примеры, ограничения |

### Что нужно AI vs людям

| AI-агенты требуют | Люди предпочитают |
|-------------------|-------------------|
| Эксплицитные инструкции | Концептуальное понимание |
| Конкретные примеры I/O | Высокоуровневые обзоры |
| Чёткие границы и запреты | Гибкость интерпретации |
| Термины с определениями | Подразумеваемый контекст |

## Структура документации проекта

```
project/
├── CLAUDE.md                  # Точка входа для Claude Code
└── docs/
    ├── PRD.md                 # Бизнес-требования (зачем, для кого)
    ├── SPEC.md                # Функциональная спецификация (что)
    ├── api.md                 # Контракты интерфейсов
    ├── data-formats.md        # Форматы входных/выходных данных
    └── decisions/             # Architecture Decision Records
        ├── ADR-001-*.md
        └── ADR-002-*.md
```

### Иерархия и связи

```
CLAUDE.md (точка входа, навигация)
    │
    └── docs/
         ├── PRD.md (зачем делаем, для кого, метрики успеха)
         │
         ├── SPEC.md (что делает система, acceptance criteria)
         │       │
         │       ├── api.md (CLI/REST контракты)
         │       └── data-formats.md (структуры данных)
         │
         └── decisions/
                 └── ADR-* (почему выбраны конкретные решения)
```

## Порядок создания

### Этап 1: Инициация
```
1. CLAUDE.md — точка входа, контекст проекта
2. docs/PRD.md — бизнес-цели, аудитория, scope
```

### Этап 2: Специфицирование
```
3. docs/SPEC.md — функциональные требования с acceptance criteria
4. docs/api.md — внешние контракты (если есть CLI/API)
5. docs/data-formats.md — структуры данных (если сложные форматы)
```

### Этап 3: Фиксация решений
```
6. docs/decisions/ADR-* — по мере принятия архитектурных решений
```

## Шаблоны

| Шаблон | Назначение | Когда создавать |
|--------|------------|-----------------|
| [CLAUDE.md](templates/CLAUDE.md.template) | Точка входа для агента | Всегда, первым |
| [PRD.md](templates/PRD.md.template) | Бизнес-требования | Начало проекта |
| [SPEC.md](templates/SPEC.md.template) | Функциональные требования | После PRD |
| [ADR.md](templates/ADR.md.template) | Архитектурное решение | При выборе технологий |
| [API.md](templates/API.md.template) | Контракты интерфейсов | Если есть CLI/REST |
| [DATA-FORMATS.md](templates/DATA-FORMATS.md.template) | Форматы данных | Если сложные структуры |

## Уровни детализации

### ✅ Что ДОЛЖНО быть в документации

| Элемент | Пример | Где |
|---------|--------|-----|
| Бизнес-цели | "Сократить время обработки на 50%" | PRD |
| Метрики успеха | "WER < 10% для чистой речи" | PRD |
| Функциональные требования | "Поддержка форматов MP3, WAV, FLAC" | SPEC |
| Acceptance criteria | "GIVEN файл 1 час WHEN обработка THEN результат ≤30 мин" | SPEC |
| Нефункциональные требования | "RAM: 16 GB рекомендуется" | SPEC |
| Внешние контракты | CLI команды, флаги, коды ошибок | api.md |
| Форматы данных | JSON-схемы, примеры | data-formats.md |
| Глоссарий терминов | "Diarization — разделение по спикерам" | SPEC |
| Ограничения | "GPU обязателен", "Только batch-режим" | SPEC |
| Допущения | "Пользователь имеет базовые навыки CLI" | SPEC |
| Границы для AI | "НЕ модифицировать миграции БД" | CLAUDE.md |

### ❌ Что НЕ ДОЛЖНО быть в спецификации

| Элемент | Почему | Где фиксировать |
|---------|--------|-----------------|
| Рабочий код | Это реализация | В коде |
| Имена классов/функций | Решается при разработке | В коде |
| Конкретные пути файлов | Решается при разработке | В коде |
| Выбор библиотек | Архитектурное решение | В ADR |
| Детали алгоритмов | Если не критичны для требований | В коде/ADR |

## Трассируемость

Требования должны прослеживаться от бизнес-целей до acceptance criteria:

```
PRD: Цель "Качественная транскрипция русской речи"
         ↓
SPEC: FR-1 "Транскрипция аудио с WER < 10%"
         ↓
SPEC: AC "GIVEN чистая русская речь WHEN транскрипция THEN WER < 10%"
```

## Чеклист перед стартом разработки

См. [checklist.md](checklist.md) для полного чеклиста.

### Минимальный набор

- [ ] CLAUDE.md создан и содержит контекст + ссылки на docs/
- [ ] docs/PRD.md определяет цели, аудиторию, scope, метрики
- [ ] docs/SPEC.md содержит все FR с acceptance criteria
- [ ] Критичные ограничения зафиксированы
- [ ] Глоссарий терминов заполнен (если есть специфика домена)

## Примеры

См. директорию [examples/](examples/) для полных примеров:
- [stt-service/](examples/stt-service/) — сервис транскрипции аудио

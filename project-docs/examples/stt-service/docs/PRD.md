# PRD: Audio Transcription Service

## Обзор

### Проблема
Облачные сервисы транскрипции требуют отправки данных на внешние серверы. Локальные решения не поддерживают diarization из коробки или сложны в настройке.

### Решение
Локальный CLI-сервис транскрипции с автоматическим определением спикеров, работающий офлайн после установки.

### Целевая аудитория
**Первичная:** Разработчики и технические специалисты с GPU
**Вторичная:** Аналитики, работающие с большими объёмами записей

## Цели проекта

| ID | Цель | Связь с SPEC |
|----|------|--------------|
| G1 | Качественная транскрипция русской речи | → FR-1, NFR-2 |
| G2 | Автоматическое разделение спикеров | → FR-2 |
| G3 | Полностью локальная работа | → NFR-4 |
| G4 | Batch-обработка | → FR-4 |

## Метрики успеха

| Метрика | Целевое значение | Как измерять |
|---------|------------------|--------------|
| WER (чистая речь) | < 10% | Сравнение с эталоном |
| Diarization accuracy | > 85% | % правильных сегментов |
| Время обработки | ≤ 0.5x длины | Замер на RTX 3080 |

## Scope

### In Scope
- Batch-транскрипция (MP3, WAV, FLAC, M4A, OGG)
- Diarization
- Экспорт: JSON, TXT, SRT
- CLI интерфейс

### Out of Scope
- Real-time транскрипция
- Web/GUI интерфейс
- Идентификация спикеров по имени
- Облачный деплой

### Future Scope
- REST API (v2)
- Docker-образ

## Ограничения и допущения

### Ограничения
- GPU обязателен для large-моделей
- Первоначальная загрузка ~10 GB

### Допущения
- Пользователь умеет работать с CLI
- Аудио содержит речь, не музыку

## Риски

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Низкое качество на шуме | Средняя | Среднее | Документировать ограничения |
| Сложность установки pyannote | Средняя | Высокое | Скрипт автоматизации |

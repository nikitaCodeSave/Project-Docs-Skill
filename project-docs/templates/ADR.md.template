# Шаблон: ADR (Architecture Decision Record)

Документ фиксации архитектурного решения. Формат MADR 4.0.

## Назначение

- Зафиксировать контекст принятия решения
- Сохранить рассмотренные альтернативы
- Объяснить обоснование выбора
- Предупредить о последствиях

## Принципы

- **Один ADR — одно решение**
  - **Исключение: ADR-001-tech-stack** — может содержать несколько связанных решений (язык, runtime, ключевые библиотеки)
- **Неизменяемость** — не редактируется, создаётся новый
- **Честность** — фиксируем и минусы

## Статусы

| Статус | Значение |
|--------|----------|
| Proposed | Обсуждается |
| Accepted | Действует |
| Deprecated | Устарело |
| Superseded | Заменено ADR-XXX |

## Когда создавать

✅ Выбор между технологиями
✅ Архитектурные паттерны
✅ Решения, сложные для отмены

❌ Очевидные решения
❌ Мелкие детали реализации

---

## Шаблон

```markdown
# ADR-{NNN}: {Краткое название}

**Статус:** Proposed | Accepted | Deprecated | Superseded by ADR-XXX
**Дата:** YYYY-MM-DD
**Связь с SPEC:** FR-X, NFR-Y

## Контекст

{Какая ситуация привела к решению?}

**Движущие факторы:**
- {Фактор 1}

**Ограничения:**
- {Ограничение 1}

## Рассмотренные варианты

### Вариант 1: {Название}

{Описание}

| Критерий | Оценка |
|----------|--------|
| {Критерий} | +/±/- |

**Плюсы:** ...
**Минусы:** ...

### Вариант 2: {Название}
...

## Решение

**Выбран вариант {N}: {Название}**

{Обоснование}

## Последствия

### Положительные
- {Что улучшится}

### Отрицательные
- {Какие проблемы создаёт}

### Риски
- {Риск} — митигация: {как снижаем}

## Связанные документы
- {Ссылки}
```

---

## Именование файлов

```
docs/decisions/
├── ADR-001-tech-stack.md         # Обязательный: язык, runtime, ключевые библиотеки
├── ADR-002-local-model-storage.md
└── ADR-003-cli-framework.md
```

Формат: `ADR-{NNN}-{краткое-название}.md`
